**DHCP** (Dynamic Host Configuration Protocol, прикладной уровень модели OSI) – протокол, позволяющий выдавать на время ip адреса из определенного пула.

Три метода:
1)     Распределение вручную — администратор присваивает устройству-клиенту предварительно выделенный IPv4-адрес, в то время как DHCPv4 только передаёт IPv4-адрес к устройству.
2)      Автоматическое распределение — DHCPv4 автоматически присваивает устройству постоянный статический IPv4-адрес, выбирая его из пула доступных адресов. Аренда не требуется.
3)      Динамическое распределение — DHCPv4 динамически присваивает или выдаёт в аренду IPv4-адрес из пула адресов на ограниченный период времени по выбору сервера или до тех пор, пока у клиента есть необходимость в адресе. Наиболее распространённый метод.

При получении ip адреса от DHCP сервера компьютер не знает куда отправлять запросы, поэтому отправляет широковещательный запрос всем компьютерам в широковещательном домене, т.е. в рамках всех узлов с одним адресом сети. Маршрутизатор (Router), предназначенный для соединения нескольких сетей, не пропускает широковещательные пакеты.  Если в широковещательном домене находится несколько DHCP серверов, то на запрос ответят все сервера и компьютеру придется выбрать один ip адрес. Кроме назначенного ip адреса DHCP сервер отправляет компьютеру адрес «Шлюза по умолчанию» (Обычно это адрес интерфейса маршрутизатора, к которому подключен широковещательный домен.

Процесс получения информации от dhcp сервера
![[Pasted image 20241222202623.png]]

APIPA — это набор IP-адресов, которые назначаются устройствам, когда основной DHCP-сервер недоступен. APIPA использует диапазон IP-адресов 169.254.0.1-169.254.255.254.

По умолчанию сообщения DHCP ограничены текущей подсетью. Дело в том, что для своей работы DHCP использует широковещание (broadcast), а маршрутизаторы не пропускают широковещательный трафик за пределы широковещательного домена. Так вот, если DHCP-сервер и клиенты находятся в разных широковещательных доменах и не могут общаться напрямую, то для их взаимодействия требуется специальный DHCP ретранслятор (DHCP relay agent). Ретранслятор является как бы посредником между клиентом и сервером, он обрабатывает стандартный широковещательный DHCP-запрос и отправляет его на сервер в виде адресного (unicast) пакета, а полученный от сервера ответ переправляет DHCP-клиенту.

**ipconfig /all** - это команда, используемая в командной строке операционной системы Windows для отображения всей информации о сетевых адаптерах на компьютере.
Поля таблицы:
- **DNS-суффикс** подключения важен для разрешения сетевых имен в IP-адреса в рамках локальной сети. Когда вы пытаетесь обратиться к устройствам или ресурсам в сети по имени (например, к другим компьютерам, принтерам или серверам), ваш компьютер сначала пытается разрешить это имя в соответствующий IP-адрес.
- **DNS-суффикс подключения** - определяет доменное имя, которое будет добавлено к неопределенным сетевым именам в процессе их разрешения. Этот суффикс используется для формирования полного доменного имени устройства или ресурса в локальной сети.
- **Описание** – просто описывает сетевой адаптер
- **Физический адрес** – MAC адрес адаптера в сети.
- **DHCP включен:** Да/нет
- **Авто настройка включена:** Да/нет
- **Локальный IPv6-адрес канала и IPv4-адрес:** это IP-адреса вашего компьютера в форматах IPv6 и IPv4 соответственно.
- **Маска подсети:** размер сети, к которой щас наш компьютер принадлежит
- **Аренда получена и Срок аренды истекает:** для DHCP соответственно аренда и срок
- **Основной шлюз** - это IP-адрес шлюза по умолчанию для данной сети, через который отправляются пакеты в другие сети.
- 
![[Pasted image 20241225205021.png]]
**Канальный уровень (Data Link Layer):**

На канальном уровне драйверы сетевых карт управляют физическими устройствами и обеспечивают взаимодействие сетевого стека с физической средой. Когда данные отправляются по сети, драйвер сетевой карты формирует сетевые фреймы, добавляя к данным заголовок и подвал, который содержит MAC-адреса.

●     **Работа с MAC-адресом:** Драйвер сетевой карты управляет MAC-адресами, которые являются уникальными физическими адресами сетевых интерфейсов. Он использует MAC-адреса для адресации фреймов и определения получателя в локальной сети.

**Сетевой уровень (Network Layer):**

На сетевом уровне драйверы сетевого стека обрабатывают IP-адреса и управляют маршрутизацией. Сюда также входит обработка протоколов ICMP (Internet Control Message Protocol) для обмена сообщениями об ошибках и проверкой доступности узлов.

●     Работа с IP-адресом: Драйвер сетевого стека добавляет заголовок IP к данным, включая IP-адрес отправителя и получателя. IP-адрес используется для маршрутизации пакетов через сеть.8

**Транспортный уровень (Transport Layer):**

На транспортном уровне драйверы сокетов управляют соединениями, протоколами и портами. Здесь происходит сегментация и сборка данных, а также контроль потока и обеспечение идемпотентности.

●     Сокеты: Драйверы сокетов предоставляют интерфейс для работы с протоколами транспортного уровня (например, TCP или UDP). Они обрабатывают установку и разрыв соединений, управляют портами, а также обеспечивают надежную или ненадежную передачу данных.

С точки зрения драйверов, работа с сокетами начинается с взаимодействия с канальным уровнем, где обрабатываются физические адреса (MAC-адреса). Затем данные проходят через сетевой уровень, где управляются IP-адреса и маршрутизация. Наконец, на транспортном уровне драйверы сокетов обеспечивают абстракцию для более высокоуровневого взаимодействия между процессами через сеть.

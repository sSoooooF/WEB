### GraphQL
[**GraphQL**](https://graphql.org/) **— это язык запросов и серверная среда для API с открытым исходным кодом.**
В классическом REST API, чтобы получить такие данные, пришлось бы сделать несколько запросов к серверу: один запрос к эндпойнту пользователей для получения списка пользователей и запрос к энпойнту постов, у которого мы запросим посты для всех найденных пользователей (либо вообще по одному запросу на каджого нужного пользователя — но это реже). С использованием GraphQL эта проблема может быть решена более эффективно. Можно запросить список пользователей и, одновременно, указать, что для каждого пользователя нужно получить последние посты.

Пример запроса в GraphQL может выглядеть так, где мы запрашиваем 5 последних постов пользователей:
```
query {
	users {
	    id
		name
		posts(last: 5) {
			id
			text
			timestamp
		}
	}
}
```

### Подход
Почему он Graph? Потому что он представляет собой **структуру данных в виде графа, где узлы графа представляют собой объекты, а рёбра - связи между этими объектами**. Это отражает способ организации данных и запросов в GraphQL, где клиенты могут запрашивать связанные данные, а также только те данные, которые им нужны.

### Принцип работы
Типы запросов в GraphQL сводятся к основным трём:
- Query
- Mutation
- Subscribtion

C помощью Query GraphQL получает необходимые данные с сервера. Тип запроса Query в GraphQL — **аналог GET в REST**. Запросы — строки, которые отправляются в теле HTTP POST-запроса.
**_Обратите внимание_**_, все типы запросов в GraphQL отправляются через POST. Но это если мы говорим про обмен по HTTP, и это самый распространённый вариант. Но GraphQL также может работать и через Веб-сокеты, и через gRPC, и поверх других транспортных протоколов._

С помощью мутаций можно добавлять данные в базу. Mutation — это **аналог POST и PUT в REST**.

С помощью подписок клиент слушает изменения в БД в режиме реального времени. Под капотом подписки используют Веб-сокеты.

Чтобы работать с GraphQL на сервере нужно развернуть **схему GraphQL (Schema)**, где прописывается логика работы GraphQL API, типы и структура данных. Схема состоит из двух взаимосвязанных объектов: **TypeDefs** и **Resolvers**.
**Объект typeDef** определяет список типов, которые доступны в проекте.
**Resolver** или распознаватель — функция, которая возвращает данные для определённого поля. Resolver’ы возвращают данные того типа, который определён в схеме. Распознаватели могут быть асинхронными. С их помощью можно получать данные из REST API, базы данных или другого источника.